> 译者: 宇卿

几个字符或者字符类可以用方括号 `[...]` 组合在一起来匹配任意一个。

例如，`[eao]` 表示 'a', 'e', 'o' 中任意一个字符。类似字符列表中任意一个字符。

```
showMatch( "The OGRE on green grass!", /gr[eao]/gi ) // "GRE", "gre", "gra"
```

这里，`gr[aeo]` 匹配了 `gre`, 而不是 `gree`, 因为 `[eao]` 代表一个字符。

方括号内也可以包含字符范围。例如，`[a-z]` 表示从 a 到 z 任意一个字符，`[0-5]` 匹配从 0 到 5 任意一个数字。

```
showMatch( "Exception 0xAF", /x[A-F]/g ) // matches "xA", not "xc"
```

这个例子名没有匹配到 `Exception` 中的 `xc`，因为匹配的范围仅限定大写字符，而且也没有 `i` 标志位。

正则表达式匹配了 `xA`, 而不是 `xAF`，因为 [A-F] 是 A 到 F 中任意一个字符。

**字符，字符类，范围可以组合使用**

下面的这个例子匹配 a-f, A-F, 或者 x 或者 任意一个十进制位

```
showMatch( "look -> 0xAF", /[\dA-Fa-fx]/g ) // "0", "x", "A", "F"
```
大多数字符类实际上是某个范围的简写，例如：

- \d 就是 [0-9] 
- \w 就是 [a-zA-Z0-9_]
- \s 就是 [\t\n\v\f\r ] 和几个 unicode 空格字符

除此之外还有否定的范围：[^...]

以脱字号 `^` 开头的范围 `[^...]` 匹配除了给定字符外所有的字符

例如：

- [^aeou] 匹配除了'a','e','o','u' 外所有字符
- [^0-9] 匹配非十进制位，类似 \D
- [^\s] 匹配非空字符，类似 \S

和常规的范围一样，否定范围可能包含多个字符和范围。
下面的例子匹配了非字母，非十进制位，非空格

```
showMatch( "alice15@gmail.com", /[^\d\sA-Z]/gi ) // "@", "."
```

**大多数特殊字符可以在方括号中使用，且可以不加转义符号**

在方括号中你仅仅需要转义右方括号 `]`, 和反斜杠 `\`。
其他特殊字符仅仅当他们有特殊含义时才需要转义。

- 中划线 `'-'` 只有当它在其他符号中间使用时才必须被转义。如果它在首部或者尾部被使用，那么它不再表示范围了，因此不需要被转义： `[\^..]`。
- 脱字号 `^` 只有当它作为第一个字符匹配时才需要转义 `[\^..]`
- 所有其他字符，包括 '.', '+', '( )', '[' 等，都不需要转义

> 如果你发现周围的正则表达式，特殊字符通常都被转义了，不管它们出现在任何地方。
> 但事实上，方括号确实允许它们去除转义符号，这样使得模式更加可读。

例如：正则表达式 `[-().^]` 表示列表 `-().^` 中的任意字符。正则表达式特殊字符在这里并没有特殊的含义。

```
var re = /[-().^]/g

showMatch( "f(g)-^1", re ) // matches (, ), -, ^
```
因此，技术上来说方括号内的转义符能省则省，当然如果你不小心加上了转义符，那也没有太大问题。

```
var re = /[\-\(\)\.\^]/g 

showMatch( "f(g)-^1", re ) // matches same (, ), -, ^
```